using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Text.RegularExpressions;
using System.Threading.Tasks;
using static System.Net.Mime.MediaTypeNames;

namespace RogueFefu
{
    internal class Battle
    {
        public void Begin()
        {
            Console.CursorVisible = false;
            string[] enemy = { @"
╔═════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                            /\                 /\                                        ║
║                                           / \'._   (\_/)   _.'/ \                                       ║
║                                           |.''._'--(o.o)--'_.''.|                                       ║
║                                            \_ / `;=/ ' \=;` \ _/                                        ║
║                                              `\__| \___/ |__/`                                          ║
║                                                   \(_|_)/                                               ║
║                                                   '' ` ''                                               ║
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
╚═════════════════════════════════════════════════════════════════════════════════════════════════════════╝", @"
╔═════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║                                                                                                         ║
║                                                       .WWWW.                                            ║
║                                                      WWWWw`w`'                                          ║
║                                                    .WWWW O O                                            ║
║                                                 .WWWW''WW.'-.                                           ║
║                                                WWWWWWWWWWWWW.                                           ║
║                                               WWWWWWWWWWWWWWW                                           ║
║                                               ''WWWWWWWWWW''\___                                        ║
║                                                /  /__ __/\___( \                                        ║
║                                               (____( \X(     /||\                                       ║
║                                                  / /||\ \                                               ║
║                                                  \______/                                               ║
║                                                   \ | \ |                                               ║
║                                                    )|  \|                                               ║
║                                                   (_|  /|                                               ║
║                                                   |X| (X|                                               ║
║                                                   |X| |X'._                                             ║
║                                                  (__| (____)                                            ║
╚═════════════════════════════════════════════════════════════════════════════════════════════════════════╝", @"
╔═════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                   __.-._                                                ║
║                                                   '-._''7'                                              ║
║                                                    /'.-c                                                ║
║                                                    |  /T                                                ║
║                                                   _)_/LI                                                ║
╚═════════════════════════════════════════════════════════════════════════════════════════════════════════╝", @"
╔═════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                      O                                                  ║
║                                                     _|_                                                 ║
║                                               ,_.-_' _ '_-._,                                           ║
║                                                \ (')(.)(') /                                            ║
║                                             _,  `\_-===-_/`  ,_                                         ║
║                                            >  |----''*''----|  <                                        ║
║                                            `**`--/   _-@-\--`**`                                        ║
║                                                 |===L_I===|                                             ║
║                                                  \       /                                              ║
║                                                  _\__|__/_                                              ║
║                                                 `wwww`wwww`                                             ║
╚═════════════════════════════════════════════════════════════════════════════════════════════════════════╝", @"
╔═════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                      //                                                 ║
║                                                     (oo\                                                ║
║                                                     / ._)                                               ║
║                                                    J _=\=                                               ║
║                                                    |   /                                                ║
║                                               3._.' |_|_                                                ║
╚═════════════════════════════════════════════════════════════════════════════════════════════════════════╝", @"
╔═════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                                                                         ║
║                                                     &&&                                                 ║
║                                                    (+.+)                                                ║
║                                                  ___\=/___                                              ║
║                                                 (|_ ~~~ _|)                                             ║
║                                                    |___|                                                ║
║                                                    / _ \                                                ║
║                                                   /_/ \_\                                               ║
║                                                  /_)   (_\                                              ║
╚═════════════════════════════════════════════════════════════════════════════════════════════════════════╝" };

            string promt = enemy[new Random().Next(0, enemy.Length)];

            string[] options = { "Attack", "Defend", "Run away" };
            StartMenu startMenu = new StartMenu(options, promt);
            int selectedIndex = startMenu.Run();

            switch (selectedIndex)
            {
                case 0:
                    Attacked();
                    break;
                case 1:
                    Defended();
                    break;
                case 2:
                    RunAway();
                    break;
            }

            Console.ReadKey(true);

        }

        private void Attacked()
        {
            Console.WriteLine("\nYou attacked the enemy");
            Console.ReadKey(true);
            Environment.Exit(0);
        }
        private void Defended()
        {
            Console.WriteLine("\nYou used a shield");
            Console.ReadKey(true);
            Environment.Exit(0);
        }
        private void RunAway()
        {
            Console.WriteLine("\nPress any key to run away");
            Console.ReadKey(true);
            Environment.Exit(0);
        }
    }
}
